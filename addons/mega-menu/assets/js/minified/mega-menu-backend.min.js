!function(i){function e(e){i(".menu-item-depth-1").each(function(e,n){var t=i(this),a=t.prevAll(".menu-item-depth-0").attr("id");i("#"+a).find(".enable-mega-menu .kfw--switcher").hasClass("kfw--active")?t.find(".kfw-nav-menu-options .enable-template , .kfw-nav-menu-options .column-heading , .kfw-nav-menu-options .disable-item-label , .kfw-nav-menu-options .mega-menu-field-template").show():t.find(".kfw-nav-menu-options .enable-template , .kfw-nav-menu-options .column-heading , .kfw-nav-menu-options .disable-item-label , .kfw-nav-menu-options .mega-menu-field-template").hide()})}e(),i(".enable-mega-menu").find("input").on("change input",function(){e()});var n=kemetAddons.template_meta_value;"object"==typeof n&&null!=n&&i.each(n,function(e,n){var t=i("#menu-item-"+e).find(".mega-menu-field-template select"),a=n;i.post(kemetAddons.ajax_url,{post_id:a,action:"kemet_get_post_title",nonce:kemetAddons.ajax_title_nonce}).done(function(e){t.append(new Option(e,a,!1,!0))})});function t(e){i(e).hasClass("select2-hidden-accessible")||(""==i(e).val()&&i(e).html(""),i(e).select2({placeholder:kemetAddons.search,ajax:{url:kemetAddons.ajax_url,dataType:"json",method:"post",delay:250,data:function(e){return{query:e.term,page:e.page,action:"kemet_ajax_get_posts_list",nonce:kemetAddons.ajax_nonce}},processResults:function(e){return{results:e}},cache:!0},minimumInputLength:2,language:kemetAddons.lang,width:"100%"}))}i(".mega-menu-field-template").find("select").each(function(e,n){t(n)}),i(document).ajaxComplete(function(){i(".mega-menu-field-template").find("select").each(function(e,n){t(n)})})}(jQuery);