!function(s){var t={init:function(){s(window).on("hashchange",t.tabs),s(window).on("ready",t.tabs()),s(document).on("click",".kemet-save-ajax",t.saveOptions),s(document).on("click",".kemet-reset-options",t.resetOptions),s(document).on("click",".kmt-plugin",t.plugin),s(document).on("click",".kemet-enable-all-options",t.enableAllOptions),s(document).on("click",".kemet-disable-all-options",t.disableAllOptions),s(document).on("click",".kfw--switcher",t.switcher),s(document).on("ready",t.stickyFooter()),s(window).on("scroll",t.stickyFooter),s(window).on("kemet-tab-changed",t.stickyFooter)},plugin:function(){var a=s(this),e=a.data("status");switch(s(this).addClass("updating-message"),e){case"install":var t=a.data("url-install"),n="Installin";break;case"activate":t=a.data("url-activate"),n="Activating";break;case"deactivate":t=a.data("url-deactivate"),n="Deactivating"}s.ajax({url:t,type:"GET",beforeSend:function(){a.text(n)}}).done(function(t){"install"==e?s.ajax({url:a.data("url-activate"),type:"GET",beforeSend:function(){a.text("Activating")}}).done(function(t){window.location.reload()}):window.location.reload()})},tabs:function(){var t=window.location.hash.match(new RegExp("tab=([^&]*)"));tab=null!=t?(tabItem=s("."+t[1]+"-tab"),s("#"+t[1])):(tabItem=s(".kemet-panel-tabs").find("li:first-child"),s(".kemet-panel-tabs-content > div:first-child")),tabItem.addClass("active").siblings().removeClass("active"),tab.addClass("active").siblings().removeClass("active"),s(document).trigger("kemet-tab-changed",tab)},switcher:function(){var t=s(this).find("input"),a=0==t.val()?1:0;s(this).toggleClass("kfw--active"),t.val(a),t.trigger("change")},saveOptions:function(){var t,a,e;s(this).hasClass("updating-message")||(t=(a=s(this)).data("class"),a=a.data("id"),a=s("#"+a+" input"),e={},s(this).addClass("updating-message"),s.each(a,function(){var t=s(this),a=t.data("depend-id");e[a]=t.val()}),s.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-save-options",class:t,options:e,nonce:kemetPanelVars.nonce}}).done(function(t){t.success&&window.location.reload()}))},resetOptions:function(){var t;s(this).hasClass("updating-message")||(t=s(this).data("class"),s(this).addClass("updating-message"),s.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-reset-options",class:t,nonce:kemetPanelVars.nonce}}).done(function(t){t.success&&window.location.reload()}))},enableAllOptions:function(){var a,t,e,n;s(this).hasClass("updating-message")||(t=(a=s(this)).data("class"),e=a.data("id"),e=s("#"+e+" .kfw--switcher input"),n={},s(this).addClass("updating-message"),s.each(e,function(){var t=s(this).data("depend-id");n[t]=1}),s.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-enable-all",class:t,options:n,nonce:kemetPanelVars.nonce}}).done(function(t){t.success&&(a.removeClass("updating-message"),t=s(".kfw--switcher"),s.each(t,function(){var t=s(this);t.addClass("kfw--active"),t.find("input").val(1),t.find("input").trigger("input")}))}))},disableAllOptions:function(){var a,t,e,n;s(this).hasClass("updating-message")||(t=(a=s(this)).data("class"),e=a.data("id"),e=s("#"+e+" .kfw--switcher input"),n={},s(this).addClass("updating-message"),s.each(e,function(){var t=s(this).data("depend-id");n[t]=0}),s.ajax({url:window.ajaxurl,type:"POST",data:{action:"kemet-panel-disable-all",class:t,options:n,nonce:kemetPanelVars.nonce}}).done(function(t){t.success&&(a.removeClass("updating-message"),t=s(".kfw--switcher"),s.each(t,function(){var t=s(this);t.removeClass("kfw--active"),t.find("input").val(0),t.find("input").trigger("input")}))}))},stickyFooter:function(){var t=s(document).find(".kemet-panel-footer");s.each(t,function(){var t=s(this),a=t.find(".kemet-panel-footer-inner"),e=parseInt(a.css("padding-left"))+parseInt(a.css("padding-right")),n=s(window).scrollTop()+s(window).height(),i=t.offset().top-n,n=Math.max(document.documentElement.clientWidth,window.innerWidth||0);0<=i&&782<n?(a.css({width:t.outerWidth()-e}),t.css({height:t.outerHeight()}).addClass("kemet-sticky")):(a.removeAttr("style"),t.removeAttr("style").removeClass("kemet-sticky"))})}};s(document).ready(function(){t.init()})}(jQuery,(window,document));